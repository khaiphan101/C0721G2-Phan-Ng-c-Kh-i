<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    class Fraction {
        constructor(numerator, denominator) {
            this.numerator = numerator;
            this.denominator = denominator;
        }
        getNumerator(){
            return this.numerator;
        }
        setNumerator(value) {
            this.numerator = value;
        }
        getDenominator(){
            if(this.checkZero()){
                return this.denominator;
            }
            else{this.displayNaN()}
        }
        setDenominator(value) {
            if(this.checkZero()){
                this.denominator = value;
            }
            else{this.displayNaN()}

        }
        simplifyFraction() {
            if(this.checkZero()){
                //trị tuyệt đối chứ không là lỗi tìm UCLN
                let GCD = this.getGreatestCommonDivisor(this.numerator, this.denominator);
                this.setNumerator(this.getNumerator() / GCD);
                this.setDenominator(this.getDenominator() / GCD);
            }
            else{this.displayNaN()}

        }
        getGreatestCommonDivisor(a,b){
            if(this.checkZero()){
                let temp;
                while(b != 0) {
                    temp = a % b;
                    a = b;
                    b = temp;
                }
                return a;
            }
            else{this.displayNaN()}

        }
        checkZero(){
            if(this.denominator == 0) {
                return false;
            }
            return true;
        }
        displayNaN(){
            alert("Đây không phải phân số")
        }
        displayFraction(){
            return this.getNumerator() + "/" + this.getDenominator()
        }
    }
    // let fraction1 = new Fraction(2,4);
    // let fraction2 = new Fraction(3,6);

    let fraction1 = new Fraction(parseInt(prompt("Phân số 1. Nhập tử số")),parseInt(prompt("Phân số 1. Nhập mẫu số")));
    let fraction2 = new Fraction(parseInt(prompt("Phân số 2. Nhập tử số")),parseInt(prompt("Phân số 2. Nhập mãu số")));
    console.log(fraction1.displayFraction());
    console.log(fraction2.displayFraction());
    fraction1.simplifyFraction();
    fraction1.simplifyFraction();
    console.log(fraction1.displayFraction());
    console.log(fraction2.displayFraction());
    add2Fraction(fraction1, fraction2);
    sub2Fraction(fraction1, fraction2);
    mult2Fraction(fraction1, fraction2);
    div2Fraction(fraction1, fraction2);

    function add2Fraction(f1, f2) {
        let numerator = f1.getNumerator() * f2.getDenominator() + f2.getNumerator() * f1.getDenominator();
        let denominator = f1.getDenominator() * f2.getDenominator();
        let f = new Fraction(numerator, denominator);
        f.simplifyFraction();
        console.log("KQ cộng 2 phân số: " + f.displayFraction())
    }

    function sub2Fraction(f1, f2) {
        let numerator = f1.getNumerator() * f2.getDenominator() - f2.getNumerator() * f1.getDenominator();
        let denominator = f1.getDenominator() * f2.getDenominator();
        let f = new Fraction(numerator, denominator);
        f.simplifyFraction();
        console.log("KQ trừ 2 phân số: " + f.displayFraction())
    }
    function mult2Fraction(f1, f2) {
        let numerator = f1.getNumerator() * f2.getNumerator();
        let denominator = f1.getDenominator() * f2.getDenominator();
        let f = new Fraction(numerator, denominator);
        f.simplifyFraction();
        console.log("KQ nhân 2 phân số: " + f.displayFraction())
    }

    function div2Fraction(f1, f2) {
        if(f2.getNumerator() == 0){
            alert("không thể chia cho 0")
        }
        else {
            let numerator = f1.getNumerator() * f2.getDenominator();
            let denominator = f1.getDenominator() * f2.getNumerator();
            let f = new Fraction(numerator, denominator);
            f.simplifyFraction();
            console.log("KQ chia 2 phân số: " + f.displayFraction())
        }
    }



</script>
</body>
</html>